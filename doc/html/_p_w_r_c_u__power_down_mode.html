<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>HT32F5xxxx Standard Peripheral Firmware Library: </title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HT32F5xxxx Standard Peripheral Firmware Library&#160;<span id="projectnumber">V1.9.1(7446)</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="page2.html">HT32F5xxxx Peripheral Examples</a>      </li>
    </ul>
  </div>
</div>
<div class="contents">
<div class="textblock"><div class="fragment"><pre class="fragment">
 * @file    PWRCU/PowerDownMode/readme.txt
 * @version V1.00
 * @date    2014-06-30
 * @brief   Description of PWRCU Power Down Mode example.
 </pre></div><dl class="user"><dt><b>Example Description:</b></dt><dd></dd></dl>
<p>This example describes how to enter the system to Power Down Mode and be waken up by RTC Compare Match or WAKEUP pin.</p>
<p>The system clock is set to 48/40 MHz by the external high speed oscillator(HSE), an EXTI Channel is configured to generate an interrupt on falling edge and the SysTick is programmed to generate an interrupt every 250 ms. In the SysTick interrupt handler, the LED1 is toggled to indicate whether the MCU is in Power Down mode or RUN mode.</p>
<p>When a falling edge is detected on the EXTI Channel (i.e. KEY1 is pressed), an interrupt is generated. In the EXTI handler routine, the RTC is configured to generate an Compare Match event in 5 seconds, the system will then enter Power Down mode causing the LED1 to stop toggling. A rising edge on WAKEUP pin or an external RESET will wake up the system from Power Down mode. If neither rising edge on WAKEUP pin nor external RESET are generated within 5 second, the RTC Compare Match will wake up the system.</p>
<p>After waking up from Power Down mode, program execution restarts and LED1 toggles again. The RTC configuration is kept so that it is not required to be reconfigured.</p>
<p>Three leds LED1, LED2 and LED3 are used to monitor the system state as following:</p>
<ul>
<li>LED1 toggling: system is in RUN mode</li>
<li>LED1 off / LED2 off / LED3 off: system is in Power Down mode</li>
<li>LED2 on: system resumes from Power Down mode by WAKEUP pin</li>
<li>LED3 on: system resumes from Power Down mode by RTC Compare Match</li>
</ul>
<dl class="user"><dt><b>Directory Contents:</b></dt><dd></dd></dl>
<ul>
<li>PWRCU/PowerDownMode/main.c Main program</li>
<li>PWRCU/PowerDownMode/ht32fxxxx_it.c Interrupt handlers</li>
</ul>
<dl class="user"><dt><b>Hardware and Software Environment:</b></dt><dd></dd></dl>
<ul>
<li>This example can be run on HT32 Series development board.</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>For power consumption measurement in Power Down Mode:<ul>
<li>Modify the example code to configure all unused GPIO pins as input floating.</li>
<li>Replace jumper MVDD with an ampere meter.</li>
</ul>
</dd>
<dd>
Re-flash the code:<ul>
<li>The system would have the matter with re-flashing the code when it enters into Power Down Mode. Users could press the Reset button on the board and then click the download icon before it enters into Power Down Mode.</li>
</ul>
</dd></dl>
<dl class="user"><dt><b>Firmware Disclaimer Information</b></dt><dd></dd></dl>
<p>1. The customer hereby acknowledges and agrees that the program technical documentation, including the code, which is supplied by Holtek Semiconductor Inc., (hereinafter referred to as "HOLTEK") is the proprietary and confidential intellectual property of HOLTEK, and is protected by copyright law and other intellectual property laws.</p>
<p>2. The customer hereby acknowledges and agrees that the program technical documentation, including the code, is confidential information belonging to HOLTEK, and must not be disclosed to any third parties other than HOLTEK and the customer.</p>
<p>3. The program technical documentation, including the code, is provided "as is" and for customer reference only. After delivery by HOLTEK, the customer shall use the program technical documentation, including the code, at their own risk. HOLTEK disclaims any expressed, implied or statutory warranties, including the warranties of merchantability, satisfactory quality and fitness for a particular purpose.</p>
<h2><center>Copyright (C) Holtek Semiconductor Inc. All rights reserved</center></h2>
</div></div>
<html xmlns="http://www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=Content-Type content="text/html;">
<style>
<!--
p.MsoToc1, li.MsoToc1, div.MsoToc1 {
	font-size:10.0pt;
	font-family:"Times New Roman";
	font-weight:bold;
}
a:link, span.MsoHyperlink {
	color:blue;
	text-decoration:underline;
	text-underline:single;
}
a:visited, span.MsoHyperlinkFollowed {
	color:purple;
	text-decoration:underline;
	text-underline:single;
}
p.Title1, li.Title1, div.Title1 {
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman";
	font-weight:bold
}
-->
</style>
</head>

<body>
<div class=Section1 style='layout-grid:18.0pt'>
<div style='border:none;border-bottom:solid windowtext 1.0pt; padding:0cm 0cm 1.0pt 0cm'> </div>
<p align=center style='text-align:center'>
For complete information of HT32 Series 32-bit Microcontrollers platform visit
<a target="_blank" href="http://www.holtek.com/">Holtek Website</a></p>
<br>
<br>
</div>
</body>
</html>
