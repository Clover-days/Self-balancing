<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>HT32F5xxxx Standard Peripheral Firmware Library: Calendar_BackupDomain</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HT32F5xxxx Standard Peripheral Firmware Library&#160;<span id="projectnumber">V1.9.1(7446)</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Calendar_BackupDomain</div>  </div>
<div class="ingroups"><a class="el" href="group___r_t_c___examples.html">RTC</a></div></div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_time___t.html">Time_T</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga1beeae6dea36793f4e6068b24bd13ac1">PWRCU_BAKREG_0_RTC_KEY</a>&#160;&#160;&#160;(PWRCU_BAKREG_0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga2cf6e82f20f01f4a57a5835b2740215f">PWRCU_BAKREG_1_RTC_SECOND</a>&#160;&#160;&#160;(PWRCU_BAKREG_1)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga6ad7a5e3ee69cb6db6a6b9111ba898bc">NMI_Handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles NMI exception.  <a href="#ga6ad7a5e3ee69cb6db6a6b9111ba898bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga2bffc10d5bd4106753b7c30e86903bea">HardFault_Handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles Hard Fault exception.  <a href="#ga2bffc10d5bd4106753b7c30e86903bea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga3150f74512510287a942624aa9b44cc5">MemManage_Handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles Memory Manage exception.  <a href="#ga3150f74512510287a942624aa9b44cc5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga850cefb17a977292ae5eb4cafa9976c3">BusFault_Handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles Bus Fault exception.  <a href="#ga850cefb17a977292ae5eb4cafa9976c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga1d98923de2ed6b7309b66f9ba2971647">UsageFault_Handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles Usage Fault exception.  <a href="#ga1d98923de2ed6b7309b66f9ba2971647"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga3e5ddb3df0d62f2dc357e64a3f04a6ce">SVC_Handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles SVCall exception.  <a href="#ga3e5ddb3df0d62f2dc357e64a3f04a6ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#gadbdfb05858cc36fc520974df37ec3cb0">DebugMon_Handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles Debug Monitor exception.  <a href="#gadbdfb05858cc36fc520974df37ec3cb0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga6303e1f258cbdc1f970ce579cc015623">PendSV_Handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles PendSVC exception.  <a href="#ga6303e1f258cbdc1f970ce579cc015623"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#gab5e09814056d617c521549e542639b7e">SysTick_Handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles SysTick Handler.  <a href="#gab5e09814056d617c521549e542639b7e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#gab86b9dd0d7b4eacfe38086e1fa4c2312">RTC_IRQHandler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This function handles RTC interrupt.  <a href="#gab86b9dd0d7b4eacfe38086e1fa4c2312"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga539951c46341882b44b63c9f1969c1a5">RTC_Configuration</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures RTC.  <a href="#ga539951c46341882b44b63c9f1969c1a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#gaf74b118a6ac9a5cbab619b3b3376880c">AP_Time_Init</a> (<a class="el" href="struct_time___t.html">Time_T</a> *InitTime)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize time by values entered on the Hyperterminal.  <a href="#gaf74b118a6ac9a5cbab619b3b3376880c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#gab509ba66b6a9d5433ef2973a454ef91a">AP_Time_Show</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows the current time YYYY.MM.DD HH:MM:SS on the Hyperterminal.  <a href="#gab509ba66b6a9d5433ef2973a454ef91a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___exported___types.html#gaed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#gad4d6b5eb52e2a55c51920419f4d8f420">AP_Time_Adjust</a> (<a class="el" href="struct_time___t.html">Time_T</a> *AdjustTime)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust time according to 2014.1.1 00:00:00 and store the sum of second to PWRCU_BAKREG_1 register.  <a href="#gad4d6b5eb52e2a55c51920419f4d8f420"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___exported___types.html#gaed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga6534896ff2b8c084689cf5c717fb7f0b">AP_Time_Count</a> (<a class="el" href="struct_time___t.html">Time_T</a> *CurrentTime)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the current time.  <a href="#ga6534896ff2b8c084689cf5c717fb7f0b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group___exported___types.html#gaf6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga2448b5456c2e0177377dc089ff265da2">IsLeapYear</a> (<a class="el" href="group___exported___types.html#ga10e94b422ef0c20dcdec20d31a1f5049">u32</a> year)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a year is a leap year or not.  <a href="#ga2448b5456c2e0177377dc089ff265da2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program.  <a href="#ga840291bc02cba5474a4cb46a9b9566fe"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___exported___types.html#ga86ffb81daa2cd6aa2bd910d2acc00088">vu8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#gaeb06464010a55d904e0d3e22bd193c8c">CK_SECOND_Flag</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___exported___types.html#gaed742c436da53c1080638ce6ef7d13de">u8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga852d47279e9b6a0223f6e2a1a10dc980">Day_Per_Month</a> [13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_time___t.html">Time_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#gadd1c65a4d8acc31e9ab749c82df25f8f">DateTime</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_time___t.html">Time_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#ga2141433ffe606a7c2c1f771c607699ef">CurTime</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___exported___types.html#ga86ffb81daa2cd6aa2bd910d2acc00088">vu8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___calendar___backup_domain.html#gaeb06464010a55d904e0d3e22bd193c8c">CK_SECOND_Flag</a> = 0</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga1beeae6dea36793f4e6068b24bd13ac1"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::PWRCU_BAKREG_0_RTC_KEY" ref="ga1beeae6dea36793f4e6068b24bd13ac1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCU_BAKREG_0_RTC_KEY&#160;&#160;&#160;(PWRCU_BAKREG_0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00056">56</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2cf6e82f20f01f4a57a5835b2740215f"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::PWRCU_BAKREG_1_RTC_SECOND" ref="ga2cf6e82f20f01f4a57a5835b2740215f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PWRCU_BAKREG_1_RTC_SECOND&#160;&#160;&#160;(PWRCU_BAKREG_1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00057">57</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gad4d6b5eb52e2a55c51920419f4d8f420"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::AP_Time_Adjust" ref="gad4d6b5eb52e2a55c51920419f4d8f420" args="(Time_T *AdjustTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___exported___types.html#gaed742c436da53c1080638ce6ef7d13de">u8</a> AP_Time_Adjust </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_time___t.html">Time_T</a> *&#160;</td>
          <td class="paramname"><em>AdjustTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adjust time according to 2014.1.1 00:00:00 and store the sum of second to PWRCU_BAKREG_1 register. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">AdjustTime,:</td><td>pointer to <a class="el" href="struct_time___t.html">Time_T</a> structure that contains the previously configuration values. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>status of the time adjustment, 0 (Fail) or 1 (Success) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00328">328</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6534896ff2b8c084689cf5c717fb7f0b"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::AP_Time_Count" ref="ga6534896ff2b8c084689cf5c717fb7f0b" args="(Time_T *CurrentTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___exported___types.html#gaed742c436da53c1080638ce6ef7d13de">u8</a> AP_Time_Count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_time___t.html">Time_T</a> *&#160;</td>
          <td class="paramname"><em>CurrentTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculate the current time. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">CurrentTime,:</td><td>pointer to <a class="el" href="struct_time___t.html">Time_T</a> structure that contains the current time values. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>status of the time calculation, 0 (Fail) or 1 (Success) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00398">398</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaf74b118a6ac9a5cbab619b3b3376880c"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::AP_Time_Init" ref="gaf74b118a6ac9a5cbab619b3b3376880c" args="(Time_T *InitTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AP_Time_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_time___t.html">Time_T</a> *&#160;</td>
          <td class="paramname"><em>InitTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize time by values entered on the Hyperterminal. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">InitTime,:</td><td>pointer to <a class="el" href="struct_time___t.html">Time_T</a> structure that will store the configuration values. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00193">193</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab509ba66b6a9d5433ef2973a454ef91a"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::AP_Time_Show" ref="gab509ba66b6a9d5433ef2973a454ef91a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AP_Time_Show </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shows the current time YYYY.MM.DD HH:MM:SS on the Hyperterminal. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00380">380</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga850cefb17a977292ae5eb4cafa9976c3"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::BusFault_Handler" ref="ga850cefb17a977292ae5eb4cafa9976c3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BusFault_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles Bus Fault exception. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00105">105</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadbdfb05858cc36fc520974df37ec3cb0"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::DebugMon_Handler" ref="gadbdfb05858cc36fc520974df37ec3cb0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DebugMon_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles Debug Monitor exception. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00131">131</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2bffc10d5bd4106753b7c30e86903bea"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::HardFault_Handler" ref="ga2bffc10d5bd4106753b7c30e86903bea" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HardFault_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles Hard Fault exception. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00060">60</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2448b5456c2e0177377dc089ff265da2"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::IsLeapYear" ref="ga2448b5456c2e0177377dc089ff265da2" args="(u32 year)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group___exported___types.html#gaf6a258d8f3ee5206d682d799316314b1">bool</a> IsLeapYear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___exported___types.html#ga10e94b422ef0c20dcdec20d31a1f5049">u32</a>&#160;</td>
          <td class="paramname"><em>year</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine if a year is a leap year or not. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">year,:</td><td>a specific year. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>status of the leap year check, TRUE or FALSE. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00501">501</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga840291bc02cba5474a4cb46a9b9566fe"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::main" ref="ga840291bc02cba5474a4cb46a9b9566fe" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main program. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>At this stage the microcontroller clock setting is already configured, this is done through <a class="el" href="group___h_t32_f0006___system___exported___functions.html#ga93f514700ccf00d08dbdcff7f1224eb2" title="Setup the microcontroller system. Initializes the system clocks and the embedded Flash.">SystemInit()</a> function which is called from startup file (startup_ht32fxxxx.s) before branching to application main. To reconfigure the default setting of <a class="el" href="group___h_t32_f0006___system___exported___functions.html#ga93f514700ccf00d08dbdcff7f1224eb2" title="Setup the microcontroller system. Initializes the system clocks and the embedded Flash.">SystemInit()</a> function, refer to system_ht32fxxxx.c file</dd></dl>
<p>Main program as following:</p>
<ul>
<li>Enable RTC PCLK and waits until it can be accessed. The RTC is located in the Backup Domain. And the isolation is enabled when backup domain reset. Therefore you have to disable isolation via <a class="el" href="group___p_w_r_c_u___exported___functions.html#ga68bfca0bb60a6dc3dbac264aa222012d" title="Waits, until the PWRCU can be accessed.">PWRCU_CheckReadyAccessed()</a> function.</li>
<li>Initizlize LED1.</li>
<li>Configures USART: 115200 8-N-1</li>
<li>Enable NVIC RTC interrupt.</li>
<li>Check the Backup Domain reset flag. Print "Power On Reset occurred!" when the first time this program is executed.</li>
<li>Check the PWRCU_BAKREG_0 register.<ul>
<li>If PWRCU_BAKREG_0 register value is not correct or not yet programmed. (when the first time the program is executed)<ul>
<li>RTC Configuration via RTC_Configuration function.</li>
<li>Initialize the time values entred by the user on the Hyperterminal via <a class="el" href="group___calendar___backup_domain.html#gaf74b118a6ac9a5cbab619b3b3376880c" title="Initialize time by values entered on the Hyperterminal.">AP_Time_Init()</a> function or set by software directly.</li>
<li>Adjust time with 2014.1.1 00:00:00 and then store the sum of second to PWRCU_BAKREG_1 register. That is done through <a class="el" href="group___calendar___backup_domain.html#gad4d6b5eb52e2a55c51920419f4d8f420" title="Adjust time according to 2014.1.1 00:00:00 and store the sum of second to PWRCU_BAKREG_1 register...">AP_Time_Adjust()</a> function.</li>
<li>Enable RTC.</li>
<li>Write 0xAA55A5A5 to PWRCU_BAKREG_0 register.</li>
</ul>
</li>
<li>If PWRCU_BAKREG_0 register value is correct. It means that the RTC had already configured.</li>
</ul>
</li>
<li>Display the current time via <a class="el" href="group___calendar___backup_domain.html#gab509ba66b6a9d5433ef2973a454ef91a" title="Shows the current time YYYY.MM.DD HH:MM:SS on the Hyperterminal.">AP_Time_Show()</a> function.<ul>
<li>Current time is sum of the RTC counter value and the init time stored in PWRCU_BAKREG_1 register. That is done through <a class="el" href="group___calendar___backup_domain.html#ga6534896ff2b8c084689cf5c717fb7f0b" title="Calculate the current time.">AP_Time_Count()</a> function. </li>
</ul>
</li>
</ul>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00108">108</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3150f74512510287a942624aa9b44cc5"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::MemManage_Handler" ref="ga3150f74512510287a942624aa9b44cc5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MemManage_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles Memory Manage exception. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00096">96</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6ad7a5e3ee69cb6db6a6b9111ba898bc"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::NMI_Handler" ref="ga6ad7a5e3ee69cb6db6a6b9111ba898bc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NMI_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles NMI exception. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00052">52</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6303e1f258cbdc1f970ce579cc015623"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::PendSV_Handler" ref="ga6303e1f258cbdc1f970ce579cc015623" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PendSV_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles PendSVC exception. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00139">139</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga539951c46341882b44b63c9f1969c1a5"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::RTC_Configuration" ref="ga539951c46341882b44b63c9f1969c1a5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_Configuration </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configures RTC. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>RTC configuration as following:</p>
<ul>
<li>S/W reset the Backup Domain.</li>
<li>Configure Low Speed External clock (LSE).<ul>
<li>The LSE use fast startup mode. Shortly startup time but higher power consumption.</li>
<li>Enable the LSE. Waits till LSE is ready.</li>
</ul>
</li>
<li>Configure RTC.<ul>
<li>Select LSE as RTC Clock Source.</li>
<li>Enable the RTC Second interrupt.</li>
<li>RTC prescaler = 32768 to generate 1 second interrupt. </li>
</ul>
</li>
</ul>

</div>
</div>
<a class="anchor" id="gab86b9dd0d7b4eacfe38086e1fa4c2312"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::RTC_IRQHandler" ref="gab86b9dd0d7b4eacfe38086e1fa4c2312" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles RTC interrupt. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>In RTC interrupt service routine:</p>
<ul>
<li>Toggle LED1 each 1s.</li>
<li>Set gwTimeDisplay to 1 to enable time update. </li>
</ul>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00158">158</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3e5ddb3df0d62f2dc357e64a3f04a6ce"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::SVC_Handler" ref="ga3e5ddb3df0d62f2dc357e64a3f04a6ce" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SVC_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles SVCall exception. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00123">123</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab5e09814056d617c521549e542639b7e"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::SysTick_Handler" ref="gab5e09814056d617c521549e542639b7e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SysTick_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles SysTick Handler. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00147">147</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1d98923de2ed6b7309b66f9ba2971647"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::UsageFault_Handler" ref="ga1d98923de2ed6b7309b66f9ba2971647" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UsageFault_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function handles Usage Fault exception. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html#l00114">114</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2ht32f5xxxx__01__it_8c_source.html">example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gaeb06464010a55d904e0d3e22bd193c8c"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/ht32f5xxxx_01_it.c::CK_SECOND_Flag" ref="gaeb06464010a55d904e0d3e22bd193c8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___exported___types.html#ga86ffb81daa2cd6aa2bd910d2acc00088">vu8</a> <a class="el" href="group___calendar___backup_domain.html#gaeb06464010a55d904e0d3e22bd193c8c">CK_SECOND_Flag</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00064">64</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaeb06464010a55d904e0d3e22bd193c8c"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::CK_SECOND_Flag" ref="gaeb06464010a55d904e0d3e22bd193c8c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___exported___types.html#ga86ffb81daa2cd6aa2bd910d2acc00088">vu8</a> <a class="el" href="group___calendar___backup_domain.html#gaeb06464010a55d904e0d3e22bd193c8c">CK_SECOND_Flag</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00064">64</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2141433ffe606a7c2c1f771c607699ef"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::CurTime" ref="ga2141433ffe606a7c2c1f771c607699ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_time___t.html">Time_T</a> <a class="el" href="group___calendar___backup_domain.html#ga2141433ffe606a7c2c1f771c607699ef">CurTime</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00063">63</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="gadd1c65a4d8acc31e9ab749c82df25f8f"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::DateTime" ref="gadd1c65a4d8acc31e9ab749c82df25f8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_time___t.html">Time_T</a> <a class="el" href="group___calendar___backup_domain.html#gadd1c65a4d8acc31e9ab749c82df25f8f">DateTime</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00063">63</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga852d47279e9b6a0223f6e2a1a10dc980"></a><!-- doxytag: member="example/RTC/Calendar_BackupDomain/main.c::Day_Per_Month" ref="ga852d47279e9b6a0223f6e2a1a10dc980" args="[13]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___exported___types.html#gaed742c436da53c1080638ce6ef7d13de">u8</a> <a class="el" href="group___calendar___backup_domain.html#ga852d47279e9b6a0223f6e2a1a10dc980">Day_Per_Month</a>[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html#l00060">60</a> of file <a class="el" href="example_2_r_t_c_2_calendar___backup_domain_2main_8c_source.html">example/RTC/Calendar_BackupDomain/main.c</a>.</p>

</div>
</div>
</div>
<html xmlns="http://www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=Content-Type content="text/html;">
<style>
<!--
p.MsoToc1, li.MsoToc1, div.MsoToc1 {
	font-size:10.0pt;
	font-family:"Times New Roman";
	font-weight:bold;
}
a:link, span.MsoHyperlink {
	color:blue;
	text-decoration:underline;
	text-underline:single;
}
a:visited, span.MsoHyperlinkFollowed {
	color:purple;
	text-decoration:underline;
	text-underline:single;
}
p.Title1, li.Title1, div.Title1 {
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Times New Roman";
	font-weight:bold
}
-->
</style>
</head>

<body>
<div class=Section1 style='layout-grid:18.0pt'>
<div style='border:none;border-bottom:solid windowtext 1.0pt; padding:0cm 0cm 1.0pt 0cm'> </div>
<p align=center style='text-align:center'>
For complete information of HT32 Series 32-bit Microcontrollers platform visit
<a target="_blank" href="http://www.holtek.com/">Holtek Website</a></p>
<br>
<br>
</div>
</body>
</html>
